<h4>información de la transacción</h4>
<mat-stepper #stepper>
  <form [formGroup]="transactionFormGroup" (ngSubmit)="onSubmit()">
    <mat-step [stepControl]="transactionFormGroup">
      <ng-template matStepLabel>cuentas de origen</ng-template>
      <div formGroupName="origin">
        <div class="form-check" style="margin-top:40px;">
          <input class="form-check-input" formControlName="originalAccount" [value]="this.connectedUserId"
                 (change)="disableOriginInput($event)"
                 type="radio" name="origin">
          <label class="form-check-label">
            Mi cuenta CoopHalal
          </label>
        </div>
        <div class="form-check" style="margin-top:20px;">
          <input class="form-check-input" type="radio" name="origin" (change)="enableOriginInput($event)">
          <label class="form-check-label">
            Mi cuenta en otra entidad
          </label>
          <input type="text" class="form-control" style="margin-top:10px;" formControlName="externalAccount">
        </div>
      </div>

      <button mat-button matStepperNext type="button" class="btn btn-success" style="margin-top:10px">Siguiente</button>
    </mat-step>

    <mat-step [stepControl]="transactionFormGroup">

      <ng-template matStepLabel>cuenta de destino</ng-template>
      <div formGroupName="destination">
        <div class="form-check" style="margin-top:10px;">
          <input class="form-check-input" type="radio" name="destination" [value]="this.connectedUserId"
                 formControlName="originalAccountDestination"
                 (change)="disableAllDestinationInputs($event)">
          <label class="form-check-label">
            a una de mis historias de CoopHalal
          </label>
        </div>
        <div class="form-check" style="margin-top:25px;">
          <input class="form-check-input" type="radio" name="destination" (change)="disableExternalInput($event)">
          <label class="form-check-label">
            a otra cuenta CoopHalal
          </label>
          <input type="text" formControlName="destinationAccount" class="form-control" style="margin-top:5px;"
          >
        </div>
        <div class="form-check" style="margin-top:25px;">
          <input class="form-check-input" type="radio" name="destination" (change)="disableDestinationInput($event)">
          <label class="form-check-label">
            a otra cuenta de otra entidad
          </label>
          <input type="text" class="form-control" formControlName="externalDestination" style="margin-top:5px;">
        </div>
      </div>

      <button mat-button matStepperPrevious style="margin-top:10px" type="button" class="btn btn-light">espalda</button>
      <button mat-button matStepperNext style="margin-top:10px;margin-left:10px" type="button" class="btn btn-success">
        Siguiente
      </button>

    </mat-step>

    <mat-step [stepControl]="transactionFormGroup">
      <ng-template matStepLabel>monto</ng-template>
      <div formGroupName="receiverInfo">
        <div class="input-group" style="margin-top:50px;">
          <input type="text" class="form-control" formControlName="amount"
                 aria-label="Amount (to the nearest dollar)" required>
          <div class="input-group-append">
            <span class="input-group-text">Euros</span>
          </div>
        </div>
      </div>
      <div
        *ngIf="amount?.invalid &&(amount?.dirty || amount?.touched)"
        class="text-danger"
      >
        <div
          *ngIf="amount?.errors?.['required'] ">
          amount is required
        </div>
        <div
          *ngIf="amount?.errors?.['pattern'] ">
          amount must be a valid digit
        </div>
      </div>
      <button mat-button matStepperPrevious style="margin-top:10px" type="button" class="btn btn-light">espalda</button>
      <button mat-button matStepperNext style="margin-top:10px;margin-left:10px" type="button" class="btn btn-success">
        Siguiente
      </button>
    </mat-step>

    <mat-step [stepControl]="transactionFormGroup">
      <ng-template matStepLabel>atos adicionales</ng-template>
      <div formGroupName="receiverInfo">
        <div class="form-group" style="margin-bottom:10px;">
          <label for="nomdest">Nombre del destinatario</label>
          <input type="text" class="form-control" id="nomdest" formControlName="destinationName" required>
          <div
            *ngIf="destinationName?.invalid &&(destinationName?.dirty || destinationName?.touched)"
            class="text-danger"
          >
            <div
              *ngIf="destinationName?.errors?.['required'] || destinationName?.errors?.['notOnlyWhiteSpace']">
              destination name is required
            </div>
          </div>

          <div class="form-group" style="margin-bottom:10px;">
            <label for="concept">Concepto</label>
            <input class="form-control" id="concept" type="text" formControlName="concept" required>
            <div
              *ngIf="concept?.invalid &&(concept?.dirty || concept?.touched)"
              class="text-danger"
            >
              <div
                *ngIf="concept?.errors?.['required'] || concept?.errors?.['notOnlyWhiteSpace']">
                concept is required
              </div>
            </div>
          </div>

          <div class="form-group" style="margin-bottom:10px;">
            <label for="fetcha">Fetcha</label>
            <input type="datetime-local" class="form-control" id="fetcha" formControlName="transactionTimestamp"
                   required>
            <div
              *ngIf="transactionTimestamp?.invalid &&(transactionTimestamp?.dirty || transactionTimestamp?.touched)"
              class="text-danger"
            >
              <div
                *ngIf="transactionTimestamp?.errors?.['required']">
                datetime is required
              </div>
            </div>
          </div>
          <div class="form-group">
            <button type="button" class="btn btn-danger">Anular</button>
            <button mat-button matStepperPrevious style="margin-left:10px" type="button" class="btn btn-light">espalda
            </button>
          </div>

          <button class="btn btn-success" style="float:right;" >Enviar</button>
        </div>
      </div>
    </mat-step>
  </form>
</mat-stepper>
